## 网络模式

1. bridge 默认

   每个容器分配IP并连接到docker0虚拟网桥上

2. host

   使用宿主机IP

3. none 基本不用，因为需要自己定义网络设置

4. container

   和一个指定container共享IP，端口范围
   
5. 自定义网络

   是ping服务名可以ping通

### NAT和桥接

使用NAT模式网络连接时，VMware会在主机上建立单独的专用网络，用以在主机和虚拟机之间相互通信。虚拟机向外部网络发送的请求数据"包裹"，都会交由NAT网络适配器加上"特殊标记"并以主机的名义转发出去，外部网络返回的响应数据"包裹"，也是先由主机接收，然后交由NAT网络适配器根据"特殊标记"进行识别并转发给对应的虚拟机，因此，虚拟机在外部网络中不必具有自己的IP地址。从外部网络来看，虚拟机和主机在共享一个IP地址，默认情况下，外部网络终端也无法访问到虚拟机。

VMware桥接模式，也就是将虚拟机的虚拟网络适配器与主机的物理网络适配器进行交接，虚拟机中的虚拟网络适配器可通过主机中的物理网络适配器直接访问到外部网络(例如图中所示的局域网和Internet，下同)。简而言之，这就好像在局域网中添加了一台新的、独立的计算机一样。因此，虚拟机也会占用局域网中的一个IP地址，并且可以和其他终端进行相互访问

**网桥通信机制**

docker启动时会开启一个网桥，容器会创建一对接口，一端在容器内， 一端在桥上，实现主机和容器之间的通信和容器之间的通信

![image-20220427144255747](E:\学习笔记\typora\img\image-20220427144255747.png)

容器的IP每次启动都会变动，但是每次都映射成了容器名

