## 存储过程

**语法**：

```sql
DELIMITER 结束符号
CREATE PROCEDURE procedure_name(参数列表) 
BEGIN
	.......
END 结束符号

DROP PROCEDUER 储存名

CALL procedure_name(参数列表) 结束符号

show procedure status;

show create procedure procedure_name;
=================变量==================
DECLARE var type default //声明变量
SET var //赋值变量
SELECT ... INTO var //赋值
=================条件==================
if then
else if
end if;

CASE case_val
	WHEN wen_val THEN statement
	ELSE statement
END CASE;

WHILE condition DO
	statement
END WHILE;

repeat
		循环体;
		UNTIL 结束条件
End repeat

loop_name:loop
		循环体;
end loop loop_name;
LEAVE loop_name（离开循环）
LTARATER loop_name （跳过本次循环）
```

### 参数

| 参数模式 | 参数名 | 参数类型 |
| :------: | :----: | :------: |

|  IN   | name1 | Vachar |
| :---: | :---: | :----: |
|  OUT  | name2 |  Int   |
| INOUT | name3 | Double |

@var 用户会话变量 	@@var系统变量

### 游标

存储查询结果集的数据类型,便于遍历

```SQL
DECLARE cursor_name CURSOR FOR select_statement;
OPEN cursor_name;
FETCH cursor_name INTO var
CLOSE cursor_name
```



## 函数

```sql
CREATE FUNCTION function_name（参数列表[i]）RETURNS return_type
BEGIN
     函数体
END 结束符号

Select 函数名() //调用
DROP FUNCTION function_name
SHOW CREATE FUNCTION function_name
```

