- select 基于轮训机制,单个进程可监视的fd数量被限制

  它仅仅知道了，有I/O事件发生了，却并不知道是哪那几个流（可能有一个，多个，甚至全部），我们只能无差别轮询所有流，找出能读出数据，或者写入数据的流，对他们进行操作。所以**select具有O(n)的无差别轮询复杂度**，同时处理的流越多，无差别轮询时间就越长。

  内核需要将消息传递到用户空间，都需要内核拷贝动作

  

- poll

  poll本质上和select没有区别，它将用户传入的数组拷贝到内核空间，然后查询每个fd对应的设备状态， **但是它没有最大连接数的限制**，原因是它是基于链表来存储的.

  

- epoll基于操作系统支持的I/O通知机制

  epoll通过内核和用户空间共享一块内存来实现的。

1.水平触发：基于管道轮询的机制。管道中有100k的数据，只读了60k，中断了之后，还是能收到这个管道有数据的通知的。因为后续还是能轮询到这个管道有数据。
2.边缘触发：基于管道状态改变的机制。只处理状改变的管道。管道中有100k的数据，只读了60k，中断了，是读不了剩下的40k。只有新数据进入这个管道时，这个管道状态再次变成“有数据”的状态，才会发送通知。

epoll 工作在 ET 模式的时候,必须使用非阻塞套接口,以避免由于一个文件描述符的阻塞读/阻塞写操作把处理多个文件描述符的任务饿死。

epoll_create 开辟空间获得文件描述符

epoll_ctl 添加socket文件描述符到空间内

epoll_wait 获取有事件的socket

### Linux查看系统调用

**如何在没有内核或程序代码的情况下查看系统调用的过程？**

strace命令是一个集诊断、调试、统计与一体的工具，可用来追踪调试程序，能够与其他命令搭配使用。可以把程序发生系统调用的过程输入到文件内。

**proc目录**

Linux系统上的/proc目录是一种文件系统，即proc文件系统。与其它常见的文件系统不同的是，/proc是一种伪文件系统（也即虚拟文件系统），存储的是当前内核运行状态的一系列特殊文件，用户可以通过这些文件查看有关系统硬件及当前正在运行进程的信息，甚至可以通过更改其中某些文件来改变内核的运行状态。 

