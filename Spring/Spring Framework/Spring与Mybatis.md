mabatis通过实现FactoryBean可以往spring中放入动态代理过的增强Mapper对象

假设MapperFactoryBean实现了FactoryBean，通过在getObject方法利用jdk动态代理返回各种增强的mapper

增强的mapper代理对象由sqlSession生成

@import注解可以导入一些类并使之成为一个SpringBean

通过实现ImportBeanDefinitionRegister接口的registerBeanDefinitions方法可以去注册各种BeanDefinitions，此方法还有个AnnotationMetadata类型参数可以获取使用@import导入这个类的注解信息，借此获取如mapper的路径等信息。

mabatis通过继承Spring的扫描类重写doScan方法得到业务mapper的所有beanDefinition

往beanDefinition的构造方法动态赋值，并且setBeanClassName为MapperFactoryBean。这样MapperFactoryBean就可以动态返回增强的mapper，之后将这些mapper注册进Spring容器

